{"title":"实现一个集合","uid":"3db723625fe9f0ccdae76ec1059696b7","slug":"实现一个集合","date":"2020-06-04T00:00:00.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/实现一个集合.json","keywords":"👨‍💻🎸🍺","cover":null,"content":"<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">class CustomSet &#123;\n  constructor() &#123;\n    this.items &#x3D; &#123;&#125;\n  &#125;\n  getKeyForValue(value) &#123;\n    return Symbol.for(value)\n  &#125;\n  add(value) &#123;\n    if (!this.has(value)) this.items[this.getKeyForValue(value)] &#x3D; value\n    return this\n  &#125;\n  clear() &#123;\n    this.items &#x3D; &#123;&#125;\n  &#125;\n  delete(value) &#123;\n    if (this.has(value)) delete this.items[this.getKeyForValue(value)]\n  &#125;\n  has(value) &#123;\n    const key &#x3D; this.getKeyForValue(value)\n    const keyList &#x3D; Object.getOwnPropertySymbols(this.items)\n    return keyList.some(item &#x3D;&gt; item &#x3D;&#x3D;&#x3D; key)\n  &#125;\n  size() &#123;\n    return Object.getOwnPropertySymbols(this.items).length\n  &#125;\n  values() &#123;\n    return Object.getOwnPropertySymbols(this.items).map(key &#x3D;&gt; this.items[key])\n  &#125;\n  &#x2F;&#x2F; 并集\n  union(otherSet) &#123;\n    const unionSet &#x3D; new CustomSet()\n    this.values().forEach(values &#x3D;&gt; unionSet.add(values))\n    otherSet.values().forEach(values &#x3D;&gt; unionSet.add(values))\n    return unionSet\n  &#125;\n  &#x2F;&#x2F; 交集\n  intersection(otherSet) &#123;\n    const intersectionSet &#x3D; new CustomSet()\n    this.values().forEach(value &#x3D;&gt; &#123;\n      if (otherSet.has(value)) &#123;\n        intersectionSet.add(value)\n      &#125;\n    &#125;)\n    return intersectionSet\n  &#125;\n  &#x2F;&#x2F; 差集\n  difference(otherSet) &#123;\n    const differenceSet &#x3D; new CustomSet()\n    this.values().forEach(value &#x3D;&gt; &#123;\n      if (!otherSet.has(value)) &#123;\n        differenceSet.add(value)\n      &#125;\n    &#125;)\n    return differenceSet\n  &#125;\n  &#x2F;&#x2F; 子集\n  isSubsetOf(otherSet) &#123;\n    if (this.size() &gt; otherSet.size()) return false\n    return this.values().every(value &#x3D;&gt; &#123;\n      return otherSet.has(value)\n    &#125;)\n  &#125;\n&#125;\n\nconst s1 &#x3D; new CustomSet()\ns1.add(1).add(2).add(3).add(4)\nconst s2 &#x3D; new CustomSet()\ns2.add(&#39;Jack&#39;).add(&#39;Tim&#39;).add(&#39;David&#39;)\nconst s3 &#x3D; s1.union(s2)\nconsole.log(&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#39;)\nconsole.log(s3.values())\nconst s4 &#x3D; new CustomSet()\ns4.add(3).add(4).add(5).add(6)\nconst s5 &#x3D; s1.intersection(s4)\nconsole.log(&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#39;)\nconsole.log(s5.values())\nconsole.log(&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#39;)\nconst s6 &#x3D; s1.difference(s4)\nconsole.log(s6.values())\nconsole.log(&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#39;)\nconst s7 &#x3D; new CustomSet()\ns7.add(1).add(2).add(3).add(4).add(5).add(6)\nconsole.log(s1.isSubsetOf(s7))</code></pre>\n\n","text":"class CustomSet &#123; constructor() &#123; this.items &#x3D; &#123;&#125; &#125; getKeyForValue(value) &#123; return Symbol.for(value) &#12...","link":"","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[{"name":"基础","slug":"基础","count":9,"path":"api/categories/基础.json"}],"tags":[{"name":"算法","slug":"算法","count":4,"path":"api/tags/算法.json"}],"toc":"","author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"致过去的时光","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"分析一道「微信」面试题","uid":"b713a5ec769cb744eeaf48bdf6c140c9","slug":"分析一道「微信」面试题","date":"2020-06-05T00:00:00.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/分析一道「微信」面试题.json","keywords":"👨‍💻🎸🍺","cover":null,"text":"题目：实现一个 LazyMan，按照以下方式调用时，得到相关输出： LazyMan(&#39;Hank&#39;) &#x2F;&#x2F; Hi! This is Hank! LazyMan(&#39;Hank&#39;).sleep(10).eat(&#39;dinner&#...","link":"","photos":[],"count_time":{"symbolsCount":"3.9k","symbolsTime":"4 mins."},"categories":[{"name":"前端","slug":"前端","count":17,"path":"api/categories/前端.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":14,"path":"api/tags/JavaScript.json"}],"author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"致过去的时光","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"给我来棵二叉树","uid":"f24dd06beb414de62fa30f4650dc3e1e","slug":"给我来棵二叉树","date":"2020-05-29T00:00:00.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/给我来棵二叉树.json","keywords":"👨‍💻🎸🍺","cover":null,"text":"&#x2F;&#x2F; 声明节点 class Node &#123; constructor(key) &#123; this.key &#x3D; key this.left &#x3D; null this.right &#x3D; null &#125; &#125; c...","link":"","photos":[],"count_time":{"symbolsCount":"6.5k","symbolsTime":"6 mins."},"categories":[{"name":"基础","slug":"基础","count":9,"path":"api/categories/基础.json"}],"tags":[{"name":"算法","slug":"算法","count":4,"path":"api/tags/算法.json"}],"author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"致过去的时光","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}