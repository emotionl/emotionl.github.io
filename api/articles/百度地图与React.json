{"title":"百度地图与React","uid":"ddc597ec7f043c7134b0654946012fa0","slug":"百度地图与React","date":"2020-07-21T00:00:00.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/百度地图与React.json","keywords":"👨‍💻🎸🍺","cover":null,"content":"<h2 id=\"WEB-端文档\"><a href=\"#WEB-端文档\" class=\"headerlink\" title=\"WEB 端文档\"></a>WEB 端文档</h2><ul>\n<li><a href=\"http://lbsyun.baidu.com/index.php?title=jspopularGL\">JavaScript API</a></li>\n<li><a href=\"http://lbsyun.baidu.com/index.php?title=wxjsapi\">微信小程序 JavaScript API</a></li>\n<li><a href=\"http://lbsyun.baidu.com/index.php?title=subway\">地铁图 JavaScript API</a></li>\n<li><a href=\"http://lbsyun.baidu.com/solutions/mapvdata\">位置数据可视化 MapV GL</a></li>\n</ul>\n<h2 id=\"与-React-结合\"><a href=\"#与-React-结合\" class=\"headerlink\" title=\"与 React 结合\"></a>与 React 结合</h2><p>以 <code>JavaScript API GL v1.0</code> 版本的 <code>SDK</code>为例</p>\n<ol>\n<li><p>首先在<code>public\\index.html</code>添加引入 <code>BMapGL</code></p>\n<pre class=\"line-numbers language-html\" data-language=\"html\"><code class=\"language-html\">&lt;!DOCTYPE html&gt;\n&lt;html lang&#x3D;&quot;en&quot; dir&#x3D;&quot;ltr&quot;&gt;\n\n&lt;head&gt;\n  &lt;meta charset&#x3D;&quot;utf-8&quot; &#x2F;&gt;\n  &lt;link rel&#x3D;&quot;shortcut icon&quot; href&#x3D;&quot;%PUBLIC_URL%&#x2F;favicon.ico&quot; &#x2F;&gt;\n  &lt;meta name&#x3D;&quot;viewport&quot; content&#x3D;&quot;width&#x3D;device-width, initial-scale&#x3D;1&quot; &#x2F;&gt;\n  &lt;meta name&#x3D;&quot;theme-color&quot; content&#x3D;&quot;#000000&quot; &#x2F;&gt;\n  &lt;link rel&#x3D;&quot;manifest&quot; href&#x3D;&quot;%PUBLIC_URL%&#x2F;manifest.json&quot; &#x2F;&gt;\n  &lt;!-- 引入 BMapGL --&gt;\n  &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;https:&#x2F;&#x2F;api.map.baidu.com&#x2F;api?type&#x3D;webgl&amp;v&#x3D;1.0&amp;ak&#x3D;4gaWxQf2AUtC51IhrHLVVUW5f10K1GTN&quot;&gt;&lt;&#x2F;script&gt;\n  &lt;title&gt;Title&lt;&#x2F;title&gt;\n&lt;&#x2F;head&gt;\n\n&lt;body&gt;\n  &lt;div id&#x3D;&quot;root&quot;&gt;&lt;&#x2F;div&gt;\n&lt;&#x2F;body&gt;\n\n&lt;&#x2F;html&gt;</code></pre>\n</li>\n<li><p>修改<code>config-overrides.js</code>添加<code>externals</code>配置</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">const &#123;\n  override,\n  addWebpackPlugin,\n  addPostcssPlugins,\n  addWebpackExternals\n&#125; &#x3D; require(&#39;customize-cra&#39;)\nconst WebpackBuildNotifierPlugin &#x3D; require(&#39;webpack-build-notifier&#39;)\nconst WebpackBar &#x3D; require(&#39;webpackbar&#39;)\n\nconst path &#x3D; require(&#39;path&#39;)\n\nmodule.exports &#x3D; &#123;\n  webpack: override(\n    addWebpackPlugin(\n      new WebpackBar(),\n      new WebpackBuildNotifierPlugin(&#123;\n        title: &#39;MISSION SUCCESS!&#39;,\n        logo: path.resolve(&#39;.&#x2F;src&#x2F;logo.svg&#39;),\n        suppressSuccess: true\n      &#125;)\n    ),\n    addPostcssPlugins([require(&#39;postcss-rtl&#39;)()]),\n    &#x2F;&#x2F; 添加 externals 配置\n    addWebpackExternals(&#123;\n      BMapGL: &#39;BMapGL&#39;\n    &#125;)\n  )\n&#125;</code></pre>\n</li>\n<li><p>最后导入并使用<code>BMapGL</code></p>\n<pre class=\"line-numbers language-jsx\" data-language=\"jsx\"><code class=\"language-jsx\">import React, &#123; useRef, useEffect &#125; from &#39;react&#39;\nimport BMapGL from &#39;BMapGL&#39;\nimport &#123; Card &#125; from &#39;reactstrap&#39;\n\nconst BMapDemo &#x3D; () &#x3D;&gt; &#123;\n  const bMapContainerRef &#x3D; useRef(null)\n\n  useEffect(() &#x3D;&gt; &#123;\n    &#x2F;&#x2F; 创建 BMapGL 实例\n    const bMap &#x3D; new BMapGL.Map(bMapContainerRef.current)\n    &#x2F;&#x2F; 初始化中心点坐标\n    const point &#x3D; new BMapGL.Point(116.404, 39.915)\n    &#x2F;&#x2F; 初始化地图，设置中心点坐标和地图级别\n    bMap.centerAndZoom(point, 12)\n    bMap.enableScrollWheelZoom(true)\n  &#125;, [])\n\n  return (\n    &lt;Card\n      style&#x3D;&#123;&#123;\n        width: &#39;100%&#39;,\n        height: &#39;300px&#39;\n      &#125;&#125;&gt;\n      &lt;div\n        ref&#x3D;&#123;bMapContainerRef&#125;\n        style&#x3D;&#123;&#123;\n          width: &#39;100%&#39;,\n          height: &#39;100%&#39;\n        &#125;&#125;\n      &#x2F;&gt;\n    &lt;&#x2F;Card&gt;\n  )\n&#125;</code></pre>\n\n</li>\n</ol>\n","text":"WEB 端文档 JavaScript API 微信小程序 JavaScript API 地铁图 JavaScript API 位置数据可视化 MapV GL 与 React 结合以 JavaScript API GL v1.0 版本的 SDK为例 首先在public\\index....","link":"","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"前端","slug":"前端","count":17,"path":"api/categories/前端.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":14,"path":"api/tags/JavaScript.json"},{"name":"React","slug":"React","count":1,"path":"api/tags/React.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#WEB-%E7%AB%AF%E6%96%87%E6%A1%A3\"><span class=\"toc-text\">WEB 端文档</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%B8%8E-React-%E7%BB%93%E5%90%88\"><span class=\"toc-text\">与 React 结合</span></a></li></ol>","author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"致过去的时光","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"Nestjs 开发流","uid":"13fdecdad2e10251171eb5f21046894a","slug":"Nestjs 开发流","date":"2020-08-13T00:00:00.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/Nestjs 开发流.json","keywords":"👨‍💻🎸🍺","cover":null,"text":" Entity定义数据 import &#123; BaseEntity, Entity, PrimaryGeneratedColumn, Column &#125; from &#39;typeorm&#39; import &#123; TaskStatus &#125; f...","link":"","photos":[],"count_time":{"symbolsCount":"5.7k","symbolsTime":"5 mins."},"categories":[{"name":"拓展","slug":"拓展","count":10,"path":"api/categories/拓展.json"}],"tags":[{"name":"Node.js","slug":"Node-js","count":2,"path":"api/tags/Node-js.json"}],"author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"致过去的时光","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"分析一道「微信」面试题","uid":"b713a5ec769cb744eeaf48bdf6c140c9","slug":"分析一道「微信」面试题","date":"2020-06-05T00:00:00.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/分析一道「微信」面试题.json","keywords":"👨‍💻🎸🍺","cover":null,"text":"题目：实现一个 LazyMan，按照以下方式调用时，得到相关输出： LazyMan(&#39;Hank&#39;) &#x2F;&#x2F; Hi! This is Hank! LazyMan(&#39;Hank&#39;).sleep(10).eat(&#39;dinner&#...","link":"","photos":[],"count_time":{"symbolsCount":"3.9k","symbolsTime":"4 mins."},"categories":[{"name":"前端","slug":"前端","count":17,"path":"api/categories/前端.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":14,"path":"api/tags/JavaScript.json"}],"author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"致过去的时光","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}