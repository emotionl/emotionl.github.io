{"title":"å•ä¾‹æ¨¡å¼","uid":"5e422a9b2c69bd7294ec71b84cbbb53b","slug":"å•ä¾‹æ¨¡å¼","date":"2021-03-02T00:47:39.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/å•ä¾‹æ¨¡å¼.json","keywords":"ğŸ‘¨â€ğŸ’»ğŸ¸ğŸº","cover":null,"content":"<h2 id=\"ä»£ç å®ç°\"><a href=\"#ä»£ç å®ç°\" class=\"headerlink\" title=\"ä»£ç å®ç°\"></a>ä»£ç å®ç°</h2><p>ä»¥æ•°æ®åº“è¿æ¥ä¸ºä¾‹ç®€å•å®ç°ä¸€ä¸ªå•ä¾‹</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">class Database &#123;\n  constructor(options) &#123;\n    this.options &#x3D; options\n  &#125;\n  getConnection() &#123;\n    console.log(&#39;You are now connected to the database.&#39;)\n  &#125;\n&#125;\n\nconst DatabaseSingleton &#x3D; (function () &#123;\n  let instance &#x3D; null\n  return function (options) &#123;\n    if (instance &#x3D;&#x3D;&#x3D; null) &#123;\n      instance &#x3D; new Database(options)\n    &#125;\n    return instance\n  &#125;\n&#125;)()\n\nconst db1 &#x3D; new DatabaseSingleton(&#123; host: &#39;localhost&#39;, port: 1111 &#125;)\nconst db2 &#x3D; new DatabaseSingleton(&#123; host: &#39;localhost&#39;, port: 2222 &#125;)\nconsole.log(db1 &#x3D;&#x3D;&#x3D; db2) &#x2F;&#x2F; true</code></pre>\n\n<h2 id=\"é€šç”¨å®ç°\"><a href=\"#é€šç”¨å®ç°\" class=\"headerlink\" title=\"é€šç”¨å®ç°\"></a>é€šç”¨å®ç°</h2><p>é€šç”¨çš„å•ä¾‹æ¨¡å¼ä¸€èˆ¬ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†æ„æˆ</p>\n<ul>\n<li><strong>Singleton</strong> ï¼šç‰¹å®šç±»ï¼Œè¿™æ˜¯æˆ‘ä»¬éœ€è¦è®¿é—®çš„ç±»ï¼Œè®¿é—®è€…è¦æ‹¿åˆ°çš„æ˜¯å®ƒçš„å®ä¾‹ï¼›</li>\n<li><strong>instance</strong> ï¼šå•ä¾‹ï¼Œæ˜¯ç‰¹å®šç±»çš„å®ä¾‹ï¼Œç‰¹å®šç±»ä¸€èˆ¬ä¼šæä¾› <code>getInstance</code> æ–¹æ³•æ¥è·å–è¯¥å•ä¾‹ï¼›</li>\n<li><strong>getInstance</strong> ï¼šè·å–å•ä¾‹çš„æ–¹æ³•ï¼Œæˆ–è€…ç›´æ¥ç”± <code>new</code> æ“ä½œç¬¦è·å–ï¼›</li>\n</ul>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">class Singleton &#123;\n  static instance &#x3D; null\n  static getInstance(options) &#123;\n    if (Singleton.instance &#x3D;&#x3D;&#x3D; null) &#123;\n      return new Singleton(options)\n    &#125;\n    return Singleton.instance\n  &#125;\n  constructor(options) &#123;\n    if (Singleton.instance &#x3D;&#x3D;&#x3D; null) &#123;\n      this.options &#x3D; options\n      Singleton.instance &#x3D; this\n    &#125;\n    return Singleton.instance\n  &#125;\n&#125;\n\nconst s1 &#x3D; new Singleton(&#39;s1&#39;)\nconst s2 &#x3D; Singleton.getInstance(&#39;s2&#39;)\nconsole.log(s1 &#x3D;&#x3D;&#x3D; s2) &#x2F;&#x2F; true</code></pre>\n\n<h2 id=\"æ‡’æ±‰å¼-vs-é¥¿æ±‰å¼\"><a href=\"#æ‡’æ±‰å¼-vs-é¥¿æ±‰å¼\" class=\"headerlink\" title=\"æ‡’æ±‰å¼ vs é¥¿æ±‰å¼\"></a>æ‡’æ±‰å¼ vs é¥¿æ±‰å¼</h2><p>æ‡’æ±‰å¼å’Œé¥¿æ±‰å¼çš„åŒºåˆ«å°±åœ¨äºå•ä¾‹ <strong>instance</strong> æ˜¯å¦æ˜¯æ‡’åŠ è½½çš„</p>\n<h3 id=\"æ‡’æ±‰å¼\"><a href=\"#æ‡’æ±‰å¼\" class=\"headerlink\" title=\"æ‡’æ±‰å¼\"></a>æ‡’æ±‰å¼</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function Money(currency, amount) &#123;\n  this.currency &#x3D; currency\n  this.amount &#x3D; amount\n&#125;\n\nMoney.prototype.getMoney &#x3D; function () &#123;\n  return &#96;$&#123;this.currency&#125; $&#123;this.amount&#125;&#96;\n&#125;\n\nconst MoneySingletonLazy &#x3D; (function () &#123;\n  let instance &#x3D; null\n  return function (currency, amount) &#123;\n    if (instance &#x3D;&#x3D;&#x3D; null) &#123;\n      instance &#x3D; new Money(currency, amount) &#x2F;&#x2F; æ‡’åŠ è½½\n    &#125;\n    return instance\n  &#125;\n&#125;)()\n\nconst m1 &#x3D; MoneySingletonLazy(&#39;$&#39;, 100)\nconst m2 &#x3D; MoneySingletonLazy(&#39;$&#39;, 100)\nconsole.log(m1 &#x3D;&#x3D;&#x3D; m2)</code></pre>\n\n<h3 id=\"é¥¿æ±‰å¼\"><a href=\"#é¥¿æ±‰å¼\" class=\"headerlink\" title=\"é¥¿æ±‰å¼\"></a>é¥¿æ±‰å¼</h3><pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function Money(currency, amount) &#123;\n  this.currency &#x3D; currency\n  this.amount &#x3D; amount\n&#125;\n\nMoney.prototype.getMoney &#x3D; function () &#123;\n  return &#96;$&#123;this.currency&#125; $&#123;this.amount&#125;&#96;\n&#125;\n\nconst MoneySingletonHungry &#x3D; (function (currency, amount) &#123;\n  const instance &#x3D; new Money(currency, amount) &#x2F;&#x2F; ç›´æ¥åŠ è½½\n  return function () &#123;\n    return instance\n  &#125;\n&#125;)(&#39;$&#39;, 100)\n\nconst m1 &#x3D; MoneySingletonHungry()\nconst m2 &#x3D; MoneySingletonHungry()\nconsole.log(m1 &#x3D;&#x3D;&#x3D; m2)</code></pre>\n\n<h2 id=\"ä¼˜ç¼ºç‚¹\"><a href=\"#ä¼˜ç¼ºç‚¹\" class=\"headerlink\" title=\"ä¼˜ç¼ºç‚¹\"></a>ä¼˜ç¼ºç‚¹</h2><h3 id=\"ä¼˜ç‚¹\"><a href=\"#ä¼˜ç‚¹\" class=\"headerlink\" title=\"ä¼˜ç‚¹\"></a>ä¼˜ç‚¹</h3><ol>\n<li>å•ä¾‹æ¨¡å¼åœ¨åˆ›å»ºååœ¨å†…å­˜ä¸­åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼ŒèŠ‚çº¦äº†å†…å­˜å¼€æ”¯å’Œå®ä¾‹åŒ–æ—¶çš„æ€§èƒ½å¼€æ”¯ï¼Œç‰¹åˆ«æ˜¯éœ€è¦é‡å¤ä½¿ç”¨ä¸€ä¸ªåˆ›å»ºå¼€é”€æ¯”è¾ƒå¤§çš„ç±»æ—¶ï¼Œæ¯”èµ·å®ä¾‹ä¸æ–­åœ°é”€æ¯å’Œé‡æ–°å®ä¾‹åŒ–ï¼Œå•ä¾‹èƒ½èŠ‚çº¦æ›´å¤šèµ„æºï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥ï¼›</li>\n<li>å•ä¾‹æ¨¡å¼å¯ä»¥è§£å†³å¯¹èµ„æºçš„å¤šé‡å ç”¨ï¼Œæ¯”å¦‚å†™æ–‡ä»¶æ“ä½œæ—¶ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¯ä»¥é¿å…å¯¹ä¸€ä¸ªæ–‡ä»¶è¿›è¡ŒåŒæ—¶æ“ä½œï¼›</li>\n<li>åªä½¿ç”¨ä¸€ä¸ªå®ä¾‹ï¼Œä¹Ÿå¯ä»¥å‡å°åƒåœ¾å›æ”¶æœºåˆ¶ GCï¼ˆGarbage Collecationï¼‰ çš„å‹åŠ›ï¼Œè¡¨ç°åœ¨æµè§ˆå™¨ä¸­å°±æ˜¯ç³»ç»Ÿå¡é¡¿å‡å°‘ï¼Œæ“ä½œæ›´æµç•…ï¼ŒCPU èµ„æºå ç”¨æ›´å°‘ï¼›</li>\n</ol>\n<h3 id=\"ç¼ºç‚¹\"><a href=\"#ç¼ºç‚¹\" class=\"headerlink\" title=\"ç¼ºç‚¹\"></a>ç¼ºç‚¹</h3><ol>\n<li>å•ä¾‹æ¨¡å¼å¯¹æ‰©å±•ä¸å‹å¥½ï¼Œä¸€èˆ¬<strong>ä¸å®¹æ˜“æ‰©å±•</strong>ï¼Œå› ä¸ºå•ä¾‹æ¨¡å¼ä¸€èˆ¬è‡ªè¡Œå®ä¾‹åŒ–ï¼Œæ²¡æœ‰æ¥å£ï¼›</li>\n<li><strong>ä¸å•ä¸€èŒè´£åŸåˆ™å†²çª</strong>ï¼Œä¸€ä¸ªç±»åº”è¯¥åªå…³å¿ƒå†…éƒ¨é€»è¾‘ï¼Œè€Œä¸å…³å¿ƒå¤–é¢æ€ä¹ˆæ ·æ¥å®ä¾‹åŒ–ï¼›</li>\n</ol>\n<h2 id=\"ä½¿ç”¨åœºæ™¯\"><a href=\"#ä½¿ç”¨åœºæ™¯\" class=\"headerlink\" title=\"ä½¿ç”¨åœºæ™¯\"></a>ä½¿ç”¨åœºæ™¯</h2><ol>\n<li>å½“ä¸€ä¸ªç±»çš„<strong>å®ä¾‹åŒ–è¿‡ç¨‹æ¶ˆè€—çš„èµ„æºè¿‡å¤š</strong>ï¼Œå¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼æ¥é¿å…æ€§èƒ½æµªè´¹ï¼›</li>\n<li>å½“é¡¹ç›®ä¸­éœ€è¦ä¸€ä¸ªå…¬å…±çš„çŠ¶æ€ï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨å•ä¾‹æ¨¡å¼æ¥<strong>ä¿è¯è®¿é—®ä¸€è‡´æ€§</strong>ï¼›</li>\n</ol>\n","text":"ä»£ç å®ç°ä»¥æ•°æ®åº“è¿æ¥ä¸ºä¾‹ç®€å•å®ç°ä¸€ä¸ªå•ä¾‹ class Database &#123; constructor(options) &#123; this.options &#x3D; options &#125; getConnection() &#123; console.log...","link":"","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":17,"path":"api/categories/å‰ç«¯.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":14,"path":"api/tags/JavaScript.json"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","count":1,"path":"api/tags/è®¾è®¡æ¨¡å¼.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0\"><span class=\"toc-text\">ä»£ç å®ç°</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%80%9A%E7%94%A8%E5%AE%9E%E7%8E%B0\"><span class=\"toc-text\">é€šç”¨å®ç°</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%87%92%E6%B1%89%E5%BC%8F-vs-%E9%A5%BF%E6%B1%89%E5%BC%8F\"><span class=\"toc-text\">æ‡’æ±‰å¼ vs é¥¿æ±‰å¼</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%87%92%E6%B1%89%E5%BC%8F\"><span class=\"toc-text\">æ‡’æ±‰å¼</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E9%A5%BF%E6%B1%89%E5%BC%8F\"><span class=\"toc-text\">é¥¿æ±‰å¼</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BC%98%E7%BC%BA%E7%82%B9\"><span class=\"toc-text\">ä¼˜ç¼ºç‚¹</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BC%98%E7%82%B9\"><span class=\"toc-text\">ä¼˜ç‚¹</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BC%BA%E7%82%B9\"><span class=\"toc-text\">ç¼ºç‚¹</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF\"><span class=\"toc-text\">ä½¿ç”¨åœºæ™¯</span></a></li></ol>","author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"è‡´è¿‡å»çš„æ—¶å…‰","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"å¯¹è±¡é“¾æ¥çš„æ–¹æ³•","uid":"0ec65ba286b3197dc2b4ec62da6fde2a","slug":"å¯¹è±¡é“¾æ¥çš„æ–¹æ³•","date":"2021-04-10T11:26:01.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/å¯¹è±¡é“¾æ¥çš„æ–¹æ³•.json","keywords":"ğŸ‘¨â€ğŸ’»ğŸ¸ğŸº","cover":null,"text":"å¯¹è±¡é“¾æ¥ä¹Ÿå« OLOO ( Objects Linked to Other Objects )ï¼Œ è¯´çš„ç›´ç™½ä¸€ç‚¹å°±æ˜¯å¯¹è±¡ A é“¾æ¥å¯¹è±¡ Bï¼Œå¯¹è±¡ A å¯ä»¥è®¿é—®å¯¹è±¡ B çš„å±æ€§å’Œæ–¹æ³•ã€‚ ä¸¾ä¸ªğŸŒ°ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå·¥å…·å¯¹è±¡ BasicFormatterï¼Œç„¶åé€šè¿‡ä¸åŒçš„æ–¹å¼åˆ›å»ºå¯ä»¥è®¿é—® Bas...","link":"","photos":[],"count_time":{"symbolsCount":802,"symbolsTime":"1 mins."},"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":17,"path":"api/categories/å‰ç«¯.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":14,"path":"api/tags/JavaScript.json"}],"author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"è‡´è¿‡å»çš„æ—¶å…‰","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"100ä¸ªå•è¯-01","uid":"6e749354fe99cad36f08dba2ac6a28a4","slug":"100ä¸ªå•è¯-01","date":"2021-02-09T13:55:12.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/100ä¸ªå•è¯-01.json","keywords":"ğŸ‘¨â€ğŸ’»ğŸ¸ğŸº","cover":null,"text":"01-10 è¯ è¯‘ distributed adj. åˆ†å¸ƒå¼çš„ï¼Œåˆ†æ•£å¼çš„ decentralized adj. åˆ†æ•£ç®¡ç†çš„ vt. ä½¿åˆ†æ•£ï¼›ä½¿åˆ†æƒï¼ˆdecentralize çš„è¿‡å»åˆ†è¯ï¼‰ deliver vt. äº¤ä»˜ï¼›å‘è¡¨ï¼›é€’é€ï¼›é‡Šæ”¾ï¼›ç»™äºˆï¼ˆæ‰“å‡»ï¼‰ intermediate ad...","link":"","photos":[],"count_time":{"symbolsCount":"3.6k","symbolsTime":"3 mins."},"categories":[{"name":"æ‹“å±•","slug":"æ‹“å±•","count":10,"path":"api/categories/æ‹“å±•.json"}],"tags":[{"name":"å•è¯","slug":"å•è¯","count":1,"path":"api/tags/å•è¯.json"}],"author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"è‡´è¿‡å»çš„æ—¶å…‰","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}