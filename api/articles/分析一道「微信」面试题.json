{"title":"åˆ†æä¸€é“ã€Œå¾®ä¿¡ã€é¢è¯•é¢˜","uid":"b713a5ec769cb744eeaf48bdf6c140c9","slug":"åˆ†æä¸€é“ã€Œå¾®ä¿¡ã€é¢è¯•é¢˜","date":"2020-06-05T00:00:00.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/åˆ†æä¸€é“ã€Œå¾®ä¿¡ã€é¢è¯•é¢˜.json","keywords":"ğŸ‘¨â€ğŸ’»ğŸ¸ğŸº","cover":null,"content":"<p>é¢˜ç›®ï¼šå®ç°ä¸€ä¸ª <code>LazyMan</code>ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ–¹å¼è°ƒç”¨æ—¶ï¼Œå¾—åˆ°ç›¸å…³è¾“å‡ºï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">LazyMan(&#39;Hank&#39;)\n&#x2F;&#x2F; Hi! This is Hank!\nLazyMan(&#39;Hank&#39;).sleep(10).eat(&#39;dinner&#39;)\n&#x2F;&#x2F; Hi! This is Hank!\n&#x2F;&#x2F; ç­‰å¾… 10 ç§’..\n&#x2F;&#x2F; Wake up after 10\n&#x2F;&#x2F; Eat dinner~\nLazyMan(&#39;Hank&#39;).eat(&#39;dinner&#39;).eat(&#39;supper&#39;)\n&#x2F;&#x2F; Hi This is Hank!\n&#x2F;&#x2F; Eat dinner~\n&#x2F;&#x2F; Eat supper~\nLazyMan(&#39;Hank&#39;).sleepFirst(5).eat(&#39;supper&#39;)\n&#x2F;&#x2F; ç­‰å¾… 5 ç§’\n&#x2F;&#x2F; Wake up after 5\n&#x2F;&#x2F; Hi This is Hank!\n&#x2F;&#x2F; Eat supper</code></pre>\n\n<p>ä»£ç å®ç°ï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">class LazyManCreator &#123;\n  constructor(name) &#123;\n    this.taskList &#x3D; []\n    const task &#x3D; () &#x3D;&gt; &#123;\n      console.log(&#96;Hi! This is $&#123;name&#125;!&#96;)\n      this.next()\n    &#125;\n    this.taskList.push(task)\n    setTimeout(() &#x3D;&gt; &#123;\n      this.next()\n    &#125;, 0)\n  &#125;\n  next() &#123;\n    const task &#x3D; this.taskList.shift()\n    task &amp;&amp; task()\n  &#125;\n  sleep(timeout) &#123;\n    const task &#x3D; () &#x3D;&gt; &#123;\n      setTimeout(() &#x3D;&gt; &#123;\n        console.log(&#96;Wake up after $&#123;timeout&#125;&#96;)\n        this.next()\n      &#125;, timeout * 1000)\n    &#125;\n    this.taskList.push(task)\n    return this\n  &#125;\n  sleepFirst(timeout) &#123;\n    const task &#x3D; () &#x3D;&gt; &#123;\n      setTimeout(() &#x3D;&gt; &#123;\n        console.log(&#96;Wake up after $&#123;timeout&#125;&#96;)\n        this.next()\n      &#125;, timeout * 1000)\n    &#125;\n    this.taskList.unshift(task)\n    return this\n  &#125;\n  eat(meal) &#123;\n    const task &#x3D; () &#x3D;&gt; &#123;\n      console.log(&#96;Eat $&#123;meal&#125;&#96;)\n      this.next()\n    &#125;\n    this.taskList.push(task)\n    return this\n  &#125;\n&#125;\n\nconst LazyMan &#x3D; name &#x3D;&gt; &#123;\n  return new LazyManCreator(name)\n&#125;\n\nconsole.log(&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#39;)\nLazyMan(&#39;Hank&#39;).sleepFirst(5).eat(&#39;supper&#39;)</code></pre>\n\n<p>è¿½åŠ ä¸€é“ç±»ä¼¼çš„é¢˜ç›®ï¼šå®ç°ä¸‹é¢è¿™é“é¢˜ä¸­çš„machineå‡½æ•°</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function machine() &#123;\n    \n&#125;\nmachine(&#39;ygy&#39;).execute() \n&#x2F;&#x2F; start ygy\nmachine(&#39;ygy&#39;).do(&#39;eat&#39;).execute(); \n&#x2F;&#x2F; start ygy\n&#x2F;&#x2F; ygy eat\nmachine(&#39;ygy&#39;).wait(5).do(&#39;eat&#39;).execute();\n&#x2F;&#x2F; start ygy\n&#x2F;&#x2F; wait 5sï¼ˆè¿™é‡Œç­‰å¾…äº†5sï¼‰\n&#x2F;&#x2F; ygy eat\nmachine(&#39;ygy&#39;).waitFirst(5).do(&#39;eat&#39;).execute();\n&#x2F;&#x2F; wait 5s\n&#x2F;&#x2F; start ygy\n&#x2F;&#x2F; ygy eat</code></pre>\n\n<p>ä»£ç å®ç°ï¼š</p>\n<pre class=\"line-numbers language-javascript\" data-language=\"javascript\"><code class=\"language-javascript\">function machine(name) &#123;\n  class Machine &#123;\n    constructor(name) &#123;\n      this.name &#x3D; name\n      this.taskList &#x3D; []\n      const task &#x3D; () &#x3D;&gt; &#123;\n        console.log(&#96;start $&#123;this.name&#125;&#96;)\n        this.next()\n      &#125;\n      this.taskList.push(task)\n    &#125;\n    next() &#123;\n      const task &#x3D; this.taskList.shift()\n      task &amp;&amp; task()\n    &#125;\n    execute() &#123;\n      this.next()\n    &#125;\n    do(something) &#123;\n      const task &#x3D; () &#x3D;&gt; &#123;\n        console.log(&#96;$&#123;this.name&#125; $&#123;something&#125;&#96;)\n        this.next()\n      &#125;\n      this.taskList.push(task)\n      return this\n    &#125;\n    wait(timeout) &#123;\n      const task &#x3D; () &#x3D;&gt; &#123;\n        console.log(&#96;wait $&#123;timeout&#125;s&#96;)\n        setTimeout(() &#x3D;&gt; &#123;\n          this.next()\n        &#125;, 1000 * timeout)\n      &#125;\n      this.taskList.push(task)\n      return this\n    &#125;\n    waitFirst(timeout) &#123;\n      const task &#x3D; () &#x3D;&gt; &#123;\n        console.log(&#96;wait $&#123;timeout&#125;s&#96;)\n        setTimeout(() &#x3D;&gt; &#123;\n          this.next()\n        &#125;, 1000 * timeout)\n      &#125;\n      this.taskList.unshift(task)\n      return this\n    &#125;\n  &#125;\n  return new Machine(name)\n&#125;</code></pre>\n\n","text":"é¢˜ç›®ï¼šå®ç°ä¸€ä¸ª LazyManï¼ŒæŒ‰ç…§ä»¥ä¸‹æ–¹å¼è°ƒç”¨æ—¶ï¼Œå¾—åˆ°ç›¸å…³è¾“å‡ºï¼š LazyMan(&#39;Hank&#39;) &#x2F;&#x2F; Hi! This is Hank! LazyMan(&#39;Hank&#39;).sleep(10).eat(&#39;dinner&#...","link":"","photos":[],"count_time":{"symbolsCount":"3.9k","symbolsTime":"4 mins."},"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":17,"path":"api/categories/å‰ç«¯.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":14,"path":"api/tags/JavaScript.json"}],"toc":"","author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"è‡´è¿‡å»çš„æ—¶å…‰","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"ç™¾åº¦åœ°å›¾ä¸React","uid":"ddc597ec7f043c7134b0654946012fa0","slug":"ç™¾åº¦åœ°å›¾ä¸React","date":"2020-07-21T00:00:00.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/ç™¾åº¦åœ°å›¾ä¸React.json","keywords":"ğŸ‘¨â€ğŸ’»ğŸ¸ğŸº","cover":null,"text":"WEB ç«¯æ–‡æ¡£ JavaScript API å¾®ä¿¡å°ç¨‹åº JavaScript API åœ°é“å›¾ JavaScript API ä½ç½®æ•°æ®å¯è§†åŒ– MapV GL ä¸ React ç»“åˆä»¥ JavaScript API GL v1.0 ç‰ˆæœ¬çš„ SDKä¸ºä¾‹ é¦–å…ˆåœ¨public\\index....","link":"","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","count":17,"path":"api/categories/å‰ç«¯.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":14,"path":"api/tags/JavaScript.json"},{"name":"React","slug":"React","count":1,"path":"api/tags/React.json"}],"author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"è‡´è¿‡å»çš„æ—¶å…‰","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"å®ç°ä¸€ä¸ªé›†åˆ","uid":"3db723625fe9f0ccdae76ec1059696b7","slug":"å®ç°ä¸€ä¸ªé›†åˆ","date":"2020-06-04T00:00:00.000Z","updated":"2021-06-22T10:16:30.101Z","comments":true,"path":"api/articles/å®ç°ä¸€ä¸ªé›†åˆ.json","keywords":"ğŸ‘¨â€ğŸ’»ğŸ¸ğŸº","cover":null,"text":"class CustomSet &#123; constructor() &#123; this.items &#x3D; &#123;&#125; &#125; getKeyForValue(value) &#123; return Symbol.for(value) &#12...","link":"","photos":[],"count_time":{"symbolsCount":"3.4k","symbolsTime":"3 mins."},"categories":[{"name":"åŸºç¡€","slug":"åŸºç¡€","count":9,"path":"api/categories/åŸºç¡€.json"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","count":4,"path":"api/tags/ç®—æ³•.json"}],"author":{"name":"ZV","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/20210313122054101.png","link":"/","description":"è‡´è¿‡å»çš„æ—¶å…‰","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}