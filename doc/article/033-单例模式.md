# 单例模式

## 定义

保证一个类仅有一个实例，并提供一个访问它的全局访问点。

## 实现方法

判断系统是否已经有这个单例，如果有则返回，如果没有则创建，确保了一个类只有一个实例对象。

## 适用场景

当您想控制实例数目，节省系统资源的时候，有如下场景可以适用：

1. 全局性实例化组件，例如：Toast 组件，Modal 弹窗组件
2. 避免类防止多次创建实例的场景，例如：实例化事件模块 new EventEmitter()

## 举个例子

```javascript
class SingleEx {
    constructor(value) {
        this.value = value
    }
    getValue() {
        return this.value
    }
    showAlert(msg) {
        alert(msg)
    }
}

function proxyClass() {
    let instance = null
    return function(value) {
        if (!instance) {
            instance = new SingleEx(value)
        }
        return instance
    }
}

const SingleExClass = proxyClass()
const a = new SingleExClass('aa')
const b = new SingleExClass('bb')
console.log(a.getValue()) // 'aa'
console.log(b.getValue()) // 'aa'
console.log(a === b) // true
```

